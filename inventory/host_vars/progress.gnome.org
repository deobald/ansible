---
ansible_python_interpreter: /usr/bin/python3

gitlab_runner_docuum_threshold: "80 GB"
gitlab_runner_concurrent: 3
gitlab_runner_check_interval: 0

gitlab_runner_runners:
  - name: "progress"
    output_limit: 16384
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33303633313136366632643666663636366233663230623462343832323761323433353237626363
          6434623262306461396334343836343866336137643666320a393662633238346630663234343265
          37373737396339383035363635306361343835323666656161353233313830666366383566616638
          3039613837376533350a316330393033313130376565313963653166303838336633323061393462
          33353430333137666432313133663034623161366430343964636264316532343266
    executor: "docker"
    seccomp: "buildah"
    docker:
      runtime: "\"crun\""
      tls_verify: "false"
      image: "\"fedora:latest\""
      volumes: '["/cache"]'
      disable_cache: "true"
      shm_size: 0
      privileged: "false"
    cache:
      Type: "\"s3\""
      Shared: "true"
    cache.s3:
      ServerAddress: "{{ gitlab_runner_cache_endpoint }}"
      AccessKey: "{{ gitlab_runner_cache_access_key }}"
      SecretKey: "{{ gitlab_runner_cache_secret_key }}"
      BucketName: "{{ gitlab_runner_cache_bucket_name }}"
      BucketLocation: "{{ gitlab_runner_cache_bucket_region }}"

  - name: "progress-flatpak"
    limit: 1
    output_limit: 16384
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66613737376638393931373137666334643934386166326436666561626239643033633230346632
          3533653662313936646565343339306238303038386365390a393430373662346530643537316531
          65333837336535343762653333336266303865303838626636656535386436333833393333656237
          3562663837356264320a303931356161353633303730396164383530613532303538656438383137
          65393738313731623563343834666432626337323939666133313432373631313836
    executor: "docker"
    seccomp: "flatpak"
    docker:
      runtime: "\"crun\""
      tls_verify: "false"
      image: "\"fedora:latest\""
      shm_size: 0
      privileged: "false"
      cap_drop: '["all"]'
      volumes: '["/proc:/host/proc"]'
      disable_cache: "true"

  - name: "progress-asan"
    output_limit: 16384
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38343331626661643265306631636635346365353866343364393034336235633537363065633863
          3963663232336465656538646232323636353138376637300a663266333934303166663239613337
          62363466653362383735343635666361653631636531376666343634656631353831326664653632
          3062646261616233300a306436376131393766373564316266613639356161376464623030623361
          63313165346530643532626339353635353433633932323638323065626161633732
    executor: "docker"
    docker:
      runtime: "\"crun\""
      tls_verify: "false"
      image: "\"fedora:latest\""
      disable_entrypoint_overwrite: "false"
      oom_kill_disable: "false"
      volumes: '["/cache"]'
      disable_cache: "true"
      shm_size: 0
      privileged: "false"
      cap_add: ["SYS_PTRACE"]
    cache:
      Type: "\"s3\""
      Shared: "true"
    cache.s3:
      ServerAddress: "{{ gitlab_runner_cache_endpoint }}"
      AccessKey: "{{ gitlab_runner_cache_access_key }}"
      SecretKey: "{{ gitlab_runner_cache_secret_key }}"
      BucketName: "{{ gitlab_runner_cache_bucket_name }}"
      BucketLocation: "{{ gitlab_runner_cache_bucket_region }}"

  - name: "progress-flatpak-fdo"
    limit: 1
    output_limit: 16384
    url: "https://gitlab.freedesktop.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35613062626261316538313063336433623238393865336165356230663365393636613035326534
          3532653262346538613764346463633463376639326235610a666563323339623963393437313461
          30366236643464363439353434383837663437363763323934396535376464326665636234623263
          3164626633653565350a353234636664643832396166393264366135326536363163363562363462
          61326631313538393036383732333061643537663766376532316464356166633036
    executor: "docker"
    seccomp: "flatpak"
    docker:
      runtime: "\"crun\""
      tls_verify: "false"
      image: "\"fedora:latest\""
      shm_size: 0
      privileged: "false"
      cap_drop: '["all"]'
      volumes: '["/proc:/host/proc"]'
      disable_cache: "true"

