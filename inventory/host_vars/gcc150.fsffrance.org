---
ansible_port: 45029

gitlab_runner_concurrent: 8
gitlab_runner_check_interval: 0

gitlab_runner_runners:
  - name: "gcc150"
    output_limit: 32768
    url: "https://gitlab.gnome.org"
    executor: "docker"
    token: !vault |
           $ANSIBLE_VAULT;1.1;AES256
           65363864363861646633393131656435343334363466623065633732616565653536643537316364
           6335323730633336613563346266326564646565343461610a633634633865326238303434633263
           30393031336431303831616338353531366137323934393839366433316339353738383837363230
           6539623437376135330a303837303564343432643563636235323132313566346366623135386361
           64366161353431313131613835643265623261643037356232353731373762636238
    seccomp: "buildah"
    docker:
      tls_verify: "false"
      image: "\"alpine:latest\""
      disable_entrypoint_overwrite: "false"
      oom_kill_disable: "false"
      volumes: '["/cache"]'
      disable_cache: "true"
      shm_size: 0
      privileged: "false"
    cache:
      Type: "\"s3\""
      Shared: "true"
    cache.s3:
      ServerAddress: "{{ gitlab_runner_cache_endpoint }}"
      AccessKey: "{{ gitlab_runner_cache_access_key }}"
      SecretKey: "{{ gitlab_runner_cache_secret_key }}"
      BucketName: "{{ gitlab_runner_cache_bucket_name }}"
      BucketLocation: "{{ gitlab_runner_cache_bucket_region }}"

  - name: "gcc150-flatpak"
    limit: 1
    output_limit: 16384
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32613832356434303962616231346430643365396461373339376135383564383831626464653630
          3035373934646439306432383361363764376366313866340a353136306432343933633739643663
          32373134633364313365383533363461393965303738636636313132376633613236393534613735
          6633356132633337380a343239393134363364376331386336353033663536623735363032333965
          30316635336334303038323462336139376363343735386131653665666364646637
    executor: "docker"
    seccomp: "flatpak"
    docker:
      tls_verify: "false"
      image: "\"alpine:latest\""
      shm_size: 0
      privileged: "false"
      cap_drop: '["all"]'
      volumes: '["/proc:/host/proc"]'
      disable_cache: "true"

  - name: "gcc150-asan"
    output_limit: 32768
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34356561313635343463616265363762356230313632333763383564633630343934346630353832
          6566383264326265663437366365353537306361396461330a323131386561633931383165373435
          64613164306462356438653365313430663934373464356538333234613661656633303263396635
          3561303037356362350a646338303964643938326163613734363262306130613331363762333366
          64666563393832643166333535366132313033346230386461636335623863653636
    executor: "docker"
    docker:
      tls_verify: "false"
      image: "\"alpine:latest\""
      disable_entrypoint_overwrite: "false"
      oom_kill_disable: "false"
      volumes: '["/cache"]'
      disable_cache: "true"
      shm_size: 0
      privileged: "false"
      cap_add: ["SYS_PTRACE"]
    cache:
      Type: "\"s3\""
      Shared: "true"
    cache.s3:
      ServerAddress: "{{ gitlab_runner_cache_endpoint }}"
      AccessKey: "{{ gitlab_runner_cache_access_key }}"
      SecretKey: "{{ gitlab_runner_cache_secret_key }}"
      BucketName: "{{ gitlab_runner_cache_bucket_name }}"
      BucketLocation: "{{ gitlab_runner_cache_bucket_region }}"
