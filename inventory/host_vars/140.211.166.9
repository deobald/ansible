---
gitlab_runner_docuum_threshold: "150 GB"
gitlab_runner_concurrent: 3
gitlab_runner_check_interval: 0

gitlab_runner_runners:
  - name: "osuosl-x86-1"
    output_limit: 16384
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37643531616538386230373362336430373865373966336537373330346332376133303035306530
          6631323766313534306336346566333234366137623738390a383033316664306261663337376361
          30396533333136373266346533323365623436353638353634663961626337323664336333313036
          3938363435656432320a623464326237303038646333366535643966393461323636346337663566
          34376462313737613837656238386163393564656639343866373166363230373138
    executor: "docker"
    seccomp: "buildah"
    docker:
      runtime: "\"crun\""
      tls_verify: "false"
      image: "\"fedora:latest\""
      volumes: '["/cache"]'
      disable_cache: "true"
      shm_size: 0
      privileged: "false"
    cache:
      Type: "\"s3\""
      Shared: "true"
    cache.s3:
      ServerAddress: "{{ gitlab_runner_cache_endpoint }}"
      AccessKey: "{{ gitlab_runner_cache_access_key }}"
      SecretKey: "{{ gitlab_runner_cache_secret_key }}"
      BucketName: "{{ gitlab_runner_cache_bucket_name }}"
      BucketLocation: "{{ gitlab_runner_cache_bucket_region }}"

  - name: "osuosl-x86-1-flatpak"
    limit: 1
    output_limit: 16384
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37373735356239633834386161333636376532353562356631363031343565393262336465373830
          6561663135633165663864653933316162383730613531650a343631303534376436663835383465
          62343564643636626635303235333036393463343463633562376335646538343734333133383666
          6639356436363031380a383166363266653839373837613438333230636537306264633737303539
          61356565653335626439316436326162326664646461656238376265313836656164
    executor: "docker"
    seccomp: "flatpak"
    docker:
      runtime: "\"crun\""
      tls_verify: "false"
      image: "\"fedora:latest\""
      shm_size: 0
      privileged: "false"
      cap_drop: '["all"]'
      volumes: '["/proc:/host/proc"]'
      disable_cache: "true"

  - name: "osuosl-x86-1-asan"
    output_limit: 16384
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66663438393633623864306361393035646232316637393263613163363565626461303138643237
          6237633034353937326634303663666633633962333034650a396631663838333465373137653432
          64313835366236376135616662656437343666656637653830383166623235303634663230373364
          6539383838306363370a633230653631636233663233383930383235313233616162326537363866
          32366139383931313234303433616435643162646334633363656537333964356630
    executor: "docker"
    docker:
      runtime: "\"crun\""
      tls_verify: "false"
      image: "\"fedora:latest\""
      disable_entrypoint_overwrite: "false"
      oom_kill_disable: "false"
      volumes: '["/cache"]'
      disable_cache: "true"
      shm_size: 0
      privileged: "false"
      cap_add: ["SYS_PTRACE"]
    cache:
      Type: "\"s3\""
      Shared: "true"
    cache.s3:
      ServerAddress: "{{ gitlab_runner_cache_endpoint }}"
      AccessKey: "{{ gitlab_runner_cache_access_key }}"
      SecretKey: "{{ gitlab_runner_cache_secret_key }}"
      BucketName: "{{ gitlab_runner_cache_bucket_name }}"
      BucketLocation: "{{ gitlab_runner_cache_bucket_region }}"
