---
ansible_port: 45058

gitlab_runner_concurrent: 8
gitlab_runner_check_interval: 0

gitlab_runner_runners:
  - name: "gcc179"
    output_limit: 32768
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31346537393966626439616165366430616666306662633430656333396239313763643432663931
          3235626538376166663239303834366632663833623937380a383235326637323039376131396466
          34383438343662363666666236323030333030303439653132393534346333343863366236336630
          3739393735333731340a613433666239633563383165303462613633353634663638313331346431
          64613361346135323437663463633938303263303535353430643334373565646463
    seccomp: "buildah"
    executor: "docker"
    environment: '["container=docker"]'
    docker:
      runtime: "\"crun\""
      tls_verify: "false"
      image: "\"fedora:latest\""
      disable_entrypoint_overwrite: "false"
      oom_kill_disable: "false"
      volumes: '["/cache"]'
      disable_cache: "true"
      shm_size: 0
      privileged: "false"
    cache:
      Type: "\"s3\""
      Shared: "true"
    cache.s3:
      ServerAddress: "{{ gitlab_runner_cache_endpoint }}"
      AccessKey: "{{ gitlab_runner_cache_access_key }}"
      SecretKey: "{{ gitlab_runner_cache_secret_key }}"
      BucketName: "{{ gitlab_runner_cache_bucket_name }}"
      BucketLocation: "{{ gitlab_runner_cache_bucket_region }}"

  - name: "gcc179-flatpak"
    limit: 1
    output_limit: 16384
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63616133633334613365346633316466316130313435666362343337366636363739303762613661
          3334653861336466633437636335623261363862373233610a333165373765643736306633653530
          32343031393231366234326335643038306366376436663462353762336433663863633164666339
          6133306337313638650a393733663838306563643563343131303736336335313735363461613635
          64373363346465376365663930353535333031393539633731396362353539343634
    executor: "docker"
    seccomp: "flatpak"
    docker:
      runtime: "\"crun\""
      tls_verify: "false"
      image: "\"fedora:latest\""
      shm_size: 0
      privileged: "false"
      cap_drop: '["all"]'
      volumes: '["/proc:/host/proc"]'
      disable_cache: "true"

  - name: "gcc179-asan"
    output_limit: 32768
    url: "https://gitlab.gnome.org/"
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31616563376635336631303535313039353733653431356434313734323539323931626230363565
          3366383630386565306164396565386137666461393435660a346563323231643836376433613231
          37333135383966306434343739353539326433376563643466326235636163393234333534323963
          3932306237643731360a373733326439356438666435326265356164353139383232653365373335
          35356464653835333335653535623636663763386238613866323166333037333366
    executor: "docker"
    docker:
      runtime: "\"crun\""
      tls_verify: "false"
      image: "\"fedora:latest\""
      disable_entrypoint_overwrite: "false"
      oom_kill_disable: "false"
      volumes: '["/cache"]'
      disable_cache: "true"
      shm_size: 0
      privileged: "false"
      cap_add: ["SYS_PTRACE"]
    cache:
      Type: "\"s3\""
      Shared: "true"
    cache.s3:
      ServerAddress: "{{ gitlab_runner_cache_endpoint }}"
      AccessKey: "{{ gitlab_runner_cache_access_key }}"
      SecretKey: "{{ gitlab_runner_cache_secret_key }}"
      BucketName: "{{ gitlab_runner_cache_bucket_name }}"
      BucketLocation: "{{ gitlab_runner_cache_bucket_region }}"
